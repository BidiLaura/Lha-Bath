[
    {
        "id": "727502332294abfd",
        "type": "tab",
        "label": "Flow Arduino",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7daf30914ceb2c11",
        "type": "serial in",
        "z": "727502332294abfd",
        "name": "Arduino Serial Input",
        "serial": "42ef55fbc6afc594",
        "x": 150,
        "y": 140,
        "wires": [
            [
                "8648ddda0870ca6d"
            ]
        ]
    },
    {
        "id": "8648ddda0870ca6d",
        "type": "function",
        "z": "727502332294abfd",
        "name": "Parse Arduino JSON",
        "func": "// Parse the incoming JSON string\nvar jsonData;\ntry {\n    jsonData = JSON.parse(msg.payload);\n} catch (e) {\n    return null; // Invalid JSON\n}\n\n// Extract the values from JSON\nvar humi = jsonData.humi;\nvar temp = jsonData.temp;\nvar contador = jsonData.contador;\nvar cmMsec = jsonData.cmMsec;\n\n// Prepare the SQL queries\nmsg.payload = [humi, temp, contador, cmMsec];\nmsg.topic = \"INSERT INTO sensor_data (humi, temp, contador, cmMsec) VALUES (?, ?, ?, ?);\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 200,
        "wires": [
            [
                "ce9c9c02afb85ae5"
            ]
        ]
    },
    {
        "id": "ce9c9c02afb85ae5",
        "type": "mysql",
        "z": "727502332294abfd",
        "mydb": "b2cc26c765796125",
        "name": "Insert Sensor Data",
        "x": 510,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "42ef55fbc6afc594",
        "type": "serial-port",
        "name": "",
        "serialport": "COM6",
        "serialbaud": "9600",
        "databits": "8",
        "parity": "none",
        "stopbits": "1",
        "waitfor": "",
        "dtr": "none",
        "rts": "none",
        "cts": "none",
        "dsr": "none",
        "newline": "\\n",
        "bin": "false",
        "out": "char",
        "addchar": "",
        "responsetimeout": "10000"
    },
    {
        "id": "b2cc26c765796125",
        "type": "MySQLdatabase",
        "name": "",
        "host": "127.0.0.1",
        "port": "3307",
        "db": "testeArduino",
        "tz": "",
        "charset": "UTF8"
    }
]
